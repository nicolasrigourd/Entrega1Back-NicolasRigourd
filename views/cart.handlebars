<h1>Carrito {{cart._id}}</h1>
<ul>
  {{#each cart.products}}
    <li>
      <h2>{{this.product.title}}</h2>
      <p>Cantidad: {{this.quantity}}</p>

      <!-- Formulario para actualizar cantidad vía query override -->
      <form action="/api/carts/{{../cart._id}}/products/{{this.product._id}}?_method=PUT" method="POST" style="display:inline">
        <input name="quantity" type="number" value="{{this.quantity}}" min="1" />
        <button type="submit">Actualizar</button>
      </form>

      <!-- Formulario para eliminar el producto del carrito -->
      <form action="/api/carts/{{../cart._id}}/products/{{this.product._id}}?_method=DELETE" method="POST" style="display:inline">
        <button type="submit">Eliminar</button>
      </form>
    </li>
  {{/each}}
</ul>

<!-- Formulario para vaciar todo el carrito -->
<form action="/api/carts/{{cart._id}}?_method=DELETE" method="POST">
  <button type="submit">Vaciar carrito</button>
</form>

<!-- Enlace para volver al listado, pasando cartId para seguir agregando -->
<a href="/products?cartId={{cart._id}}">Seguir comprando →</a>
